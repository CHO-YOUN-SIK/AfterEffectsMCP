# 🆘 문제 해결 가이드 (Troubleshooting)

After Effects MCP를 사용하면서 발생할 수 있는 오류와 해결 방법을 정리했습니다.

## 1. API 키 관련 오류

### 🚫 403 Forbidden 오류
> 로그 메시지: `Your API key was reported as leaked.`
- **원인:** API 키가 공개된 인터넷 공간(GitHub 등)에 노출되어 구글이 자동으로 차단했습니다.
- **해결:**
  1. [Google AI Studio](https://aistudio.google.com/)에서 **새 키를 발급**받으세요.
  2. 기존 키는 삭제하고, 새 키를 패널에 다시 입력하세요.
  3. 절대 `config.json`이나 `.env` 파일을 GitHub에 올리지 마세요!

### ⏳ 429 Too Many Requests 오류
> 메시지: `⚠️ 사용량 한도 초과 (Quota Exceeded)`
- **원인:** 짧은 시간 동안 너무 많은 질문을 했습니다 (무료 티어 제한).
- **해결:** 약 30초~1분 정도 기다렸다가 다시 시도하세요. 유료 플랜을 사용하거나 다른 계정의 키를 사용하면 해결됩니다.

---

## 2. 서버 연결 오류

### ❌ "서버 연결 끊김" / "네트워크 오류"
- **증상:** 채팅을 보냈는데 빨간색 에러 박스가 뜸.
- **해결:**
  1. **수동 실행:** 패널 자동 실행이 실패했을 수 있습니다. VS Code 터미널에서 `server` 폴더로 이동 후 `python server.py`를 실행하세요.
  2. **방화벽 확인:** Python 프로세스(`python.exe`)의 네트워크 접근이 차단되었는지 확인하세요.

### 🔄 "포트가 사용 중입니다"
- **원인:** 이전 서버 프로세스가 제대로 종료되지 않았습니다.
- **해결:**
  1. VS Code 터미널에서 `Ctrl+C`를 눌러 서버를 끕니다.
  2. 그래도 안 되면 `taskkill /F /IM python.exe /T` 명령어로 모든 Python 프로세스를 종료하고 다시 시작하세요.
  3. 저희 시스템은 자동으로 다음 포트(5001, 5002...)를 찾아 실행하므로 크게 걱정하지 않으셔도 됩니다.

---

## 3. After Effects 동작 오류

### ⚠️ "스크립트 실행 오류" / "EvalScript error"
- **원인:** AE 내부 스크립트 실행 권한이 없거나, AI가 만든 코드에 문법 오류가 있습니다.
- **해결:**
  1. **권한 설정:** AE 메뉴 `편집` > `환경설정` > `스크립팅 및 표현식`에서 **"스크립트의 파일 쓰기 및 네트워크 액세스 허용"**을 체크하세요.
  2. **Chat Feedback:** AI에게 "방금 코드에서 오류 났어. 다시 짜줘"라고 말하면 수정된 코드를 줍니다.

### ❓ 실행 버튼을 눌러도 반응 없음
- **원인:** 버튼 이벤트 래핑 문제 (구버전 이슈).
- **해결:** 최신 버전(`client/main.js` 업데이트됨)에서는 해결되었습니다. 패널을 새로고침하거나 확장 프로그램을 재설치하세요.
